(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(69)},28:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),c=a.n(r),l=(a(28),a(6)),i=a(7),s=a(9),m=a(8),u=a(10),d=a(71),h=a(73),f=a(72);a(30);var v=function(){return o.a.createElement("nav",{className:"green"},o.a.createElement("div",{className:"nav-wrapper"},o.a.createElement("ul",{id:"nav-mobile",className:"left hide-on-med-and-down"},o.a.createElement("li",null,o.a.createElement("a",{href:"/",className:"logo"}," Google Books")),o.a.createElement("li",null,o.a.createElement("a",{href:"/search"},"Search")),o.a.createElement("li",null,o.a.createElement("a",{href:"/saved"}," Saved"))),o.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},o.a.createElement("li",null,o.a.createElement("a",{href:"https://github.com/DBiles/Digital-Library",target:"_blank",rel:"noopener noreferrer"},o.a.createElement("i",{className:"fab fa-github"}))))))};a(32);var g=function(){return o.a.createElement("div",{className:"container center-align"},o.a.createElement("h2",null,"Google Book Search"),o.a.createElement("h4",null,"Search for and Save Books of Interest"))},E=a(20),k=(a(34),function(e){return o.a.createElement("div",{className:"row center-align"},o.a.createElement("div",{className:"input-field col s6 push-s3"},o.a.createElement("input",{name:"query",placeholder:"Book Title",type:"text",className:"validate",value:e.name,onChange:e.handleSearch}),o.a.createElement("button",{className:"waves-effect waves-light btn green",onClick:e.handleSubmit},"Search")))}),b=(a(36),function(e){return o.a.createElement("div",{className:"col s3"},o.a.createElement("div",{className:"card hoverable z-depth-3"},o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{className:"card-images",src:e.image,alt:"book cover"})),o.a.createElement("div",{className:"card-content"},o.a.createElement("p",null,o.a.createElement("strong",null,e.title))),o.a.createElement("div",{className:"card-action"},o.a.createElement("button",{id:e.id,className:"waves-effect btn green",onClick:e.save},"Save"),o.a.createElement("a",{className:"waves-effect btn green",href:e.info,target:"_blank",rel:"noopener noreferrer"},"View More"))))}),p=a(38),N={getBooks:function(e){return p.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e))},getSavedBooks:function(){return p.get("/api/books/")},saveBook:function(e){return p.post("/api/books",e)},deleteBook:function(e){return p.delete("/api/books/"+e)}},w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={query:"",books:[]},a.handleSearch=function(e){console.log("this is the target",e.target);var t=e.target,n=t.name,o=t.value;a.setState(Object(E.a)({},n,o)),console.log(a.state)},a.handleSubmit=function(e){e.preventDefault(),console.log("state",a.state),N.getBooks(a.state.query).then(function(e){a.setState({query:"",books:e.data.items})}).catch(function(e){console.log("err",e)})},a.saveBook=function(e){var t=a.state.books[e.target.id].volumeInfo,n={title:t.title,authors:t.authors,description:a.state.books[e.target.id].searchInfo.textSnippet,image:t.imageLinks.smallThumbnail,link:t.infoLink};N.saveBook(n).then(function(e){console.log(e)}).catch(function(e){console.log("Error",e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.getBooks("AWS").then(function(t){e.setState({books:t.data.items}),console.log("Books",e.state.books)}).catch(function(e){return console.log("err",e)})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(k,{name:this.state.query,handleSearch:this.handleSearch,handleSubmit:this.handleSubmit}),o.a.createElement("div",{className:"row center-align"},this.state.books.map(function(t,a){return o.a.createElement(b,{key:a,id:a,title:t.volumeInfo.title,image:t.volumeInfo.imageLinks.smallThumbnail,info:t.volumeInfo.infoLink,save:e.saveBook})})))}}]),t}(n.Component),S=(a(58),a(60),function(e){return o.a.createElement("div",{className:"col s8 push-s2"},o.a.createElement("div",{className:"card horizontal ch hoverable z-depth-3"},o.a.createElement("div",{className:"card-image"},o.a.createElement("img",{className:"hcard-images",src:e.image,alt:"saved book cover"})),o.a.createElement("div",{className:"card-stacked"},o.a.createElement("div",{className:"card-content"},o.a.createElement("h5",null,e.title),o.a.createElement("p",null,o.a.createElement("strong",null,"Authors:")," ",e.authors),o.a.createElement("br",null),o.a.createElement("p",null,e.description)),o.a.createElement("div",{className:"card-action"},o.a.createElement("button",{id:e.id,className:"waves-effect btn green",onClick:e.delete},"Delete"),o.a.createElement("a",{className:"waves-effect btn green",href:e.link,target:"_blank",rel:"noopener noreferrer"},"More Info")))))}),y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={books:[]},a.deleteBook=function(e){var t=a.state.books[e.target.id]._id;N.deleteBook(t).then(function(){N.getSavedBooks().then(function(e){a.setState({books:e.data})}).catch(function(e){console.log("Pulling Book Error - ",e)})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.getSavedBooks().then(function(t){e.setState({books:t.data}),console.log(e.state)}).catch(function(e){console.log("Database retrieve Error",e)})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container card-container center-align"},o.a.createElement("div",{className:"row"},this.state.books.map(function(t,a){return o.a.createElement(S,{key:a,id:a,title:t.title,authors:t.authors,description:t.description,link:t.link,image:t.image,delete:e.deleteBook})})))}}]),t}(n.Component),B=(a(62),function(e){return o.a.createElement("div",{className:"nomatch container center-align"},o.a.createElement("h1",null,"Sorry, No route found. Please check url"),o.a.createElement("h2",null,">_<"))}),j=(a(64),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={isLoaded:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({isLoaded:!0})}},{key:"render",value:function(){return this.state.isLoaded?(console.log("App loaded"),o.a.createElement("div",null,o.a.createElement(v,null),o.a.createElement(g,null),o.a.createElement(d.a,null,o.a.createElement(h.a,null,o.a.createElement(f.a,{exact:!0,path:"/",component:w}),o.a.createElement(f.a,{exact:!0,path:"/search",component:w}),o.a.createElement(f.a,{exact:!0,path:"/saved",component:y}),o.a.createElement(f.a,{component:B}))))):o.a.createElement("div",null,"Loading .... ")}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.f3d7fbd6.chunk.js.map